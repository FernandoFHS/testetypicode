<div fxFlexFill>

  <core-breadcrumb [model]="breadcrumbModel"></core-breadcrumb>

  <div class="m-b-25">
    <label class="mat-display-1 page-title">
      Incluir Estabelecimento
    </label>
  </div>

  <mat-horizontal-stepper [linear]="isLinear" #stepper class="mat-elevation-z1 m-b-20">
    <!--identification Step-->
    <mat-step label="Identificação" state="identification" [stepControl]="identificationFormGroup">

      <form [formGroup]="identificationFormGroup">

        <ng-template matStepLabel>Identificação</ng-template>

        <h3>Dados Iniciais</h3>

        <div class="line-form">
          <mat-form-field appearance="outline">
            <mat-label>Alvo do Cadastro</mat-label>
            <input matInput placeholder="Quero cadastrar..." formControlName="registerTarget" required />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>track_changes</mat-icon>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Empresa Administradora</mat-label>
            <input matInput placeholder="Empresa Administradora" formControlName="companyResponsibleName" required />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>admin_panel_settings</mat-icon>
          </mat-form-field>
        </div>

        <mat-divider></mat-divider>

        <h3>Identificação</h3>

        <div class="initial-data">
          <div class="status-container">
            <h2><span>Status: </span>Credenciado</h2>
            <mat-checkbox class="example-margin">Ativo</mat-checkbox>

          </div>

        </div>

        <div class="line-form">

          <div class="short-line-form">

            <mat-form-field appearance="outline">
              <mat-label>Tipo</mat-label>
              <mat-select name="type" #pessoa formControlName="companyType" (blur)="getCpfCnpjMask(pessoa.value)"
                required>
                <mat-option></mat-option>
                <mat-option value="PF"> Pessoa Física </mat-option>
                <mat-option value="PJ"> Pessoa Jurídica </mat-option>
              </mat-select>
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            </mat-form-field>

          </div>

          <mat-form-field appearance="outline">
            <mat-label>CPF/CNPJ</mat-label>
            <input matInput placeholder="{{mask}}" formControlName="documentNumberCompany" required mask="{{mask}}"
              [showMaskTyped]="true" />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>assignment_ind</mat-icon>
          </mat-form-field>

        </div>

        <div class="line-form">

          <mat-form-field appearance="outline">
            <mat-label>Estabelecimento Adquirente</mat-label>
            <input matInput placeholder="Estabelecimento Adquirente" formControlName="gpEstablishmentNumber"
              required />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>home_work</mat-icon>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Inscrição Estadual</mat-label>
            <input matInput placeholder="Inscrição Estadual" formControlName="stateRegistration" required
              mask="000000000000" />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>assignment</mat-icon>
          </mat-form-field>

        </div>

        <mat-divider></mat-divider>

        <h3>Dados Principais</h3>

        <div class="line-form">

          <mat-form-field appearance="outline">
            <mat-label>Razão Social</mat-label>
            <input matInput placeholder="Razão Social" formControlName="companyName" required />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>assignment</mat-icon>
          </mat-form-field>

          <div class="short-line-2-form">

            <mat-form-field appearance="outline">
              <mat-label>Nome Fantasia</mat-label>
              <input matInput placeholder="Nome Fantasia" formControlName="fancyName" required />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>perm_contact_calendar</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Nome Reduzido</mat-label>
              <input matInput placeholder="Razão Social" formControlName="companyShortName" required />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>short_text</mat-icon>
            </mat-form-field>

          </div>

        </div>

        <div class="line-form">

          <mat-form-field appearance="outline">
            <mat-label>Atividade comercial</mat-label>
            <input matInput formControlName="businessActivity" required>
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>meeting_room</mat-icon>
          </mat-form-field>

          <div class="short-line-2-form">
            <mat-form-field appearance="outline">
              <mat-label>Departamento</mat-label>
              <input matInput placeholder="Departamento" formControlName="idDepartament" required />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>meeting_room</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Data de abertura</mat-label>
              <input matInput [matDatepicker]="dp" formControlName="openingDate">
              <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
              <mat-datepicker #dp></mat-datepicker>
            </mat-form-field>
          </div>

        </div>

        <div class="line-form">

          <div class="short-line-form-threeOfFour">

            <mat-form-field appearance="outline">
              <mat-label>CNAE</mat-label>
              <input matInput aria-label="Cnae" formControlName="cnae" [matAutocomplete]="auto" [formControl]="cnaeForm"
                (blur)="getMccByCnae()">
              <mat-autocomplete #auto="matAutocomplete" required [displayWith]="displayFn">
                <mat-option *ngFor="let item of filteredCnaes | async" [value]="item">
                  <span>{{item.description}}</span>
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>MCC</mat-label>
              <input matInput placeholder="MCC" formControlName="mcccode" required />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>assignment</mat-icon>
            </mat-form-field>

          </div>

        </div>

        <div class="group-actions-buttons">

          <button mat-raised-button matStepperPrevious color="accent" (click)="navigateToCompanyList()">Voltar</button>

          <button mat-raised-button matStepperNext color="primary"
            (click)="saveForm(identificationFormGroup,'identificationFormGroup');checkValueBankAdress(false)">Avançar</button>

        </div>

      </form>

    </mat-step>
    <!--Adress Step-->
    <mat-step label="Endereço" state="adress" [stepControl]="adressFormGroup">

      <form [formGroup]="adressFormGroup">

        <h3>Comercial</h3>

        <div class="line-form">

          <div class="short-line-form">

            <mat-form-field appearance="outline">
              <mat-label>CEP</mat-label>
              <input matInput placeholder="Digite o seu cep" formControlName="zipCode" required #keyZipCode
                (blur)="getFirstCep(keyZipCode.value)" mask="00000-000" [showMaskTyped]="true" />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>place</mat-icon>
            </mat-form-field>

          </div>

        </div>

        <div class="line-form">

          <mat-form-field appearance="outline">
            <mat-label>Logradouro</mat-label>
            <input matInput placeholder="Digite o seu endereço" formControlName="streetName" required />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>add_road</mat-icon>
          </mat-form-field>

          <div class="short-line-form">

            <mat-form-field appearance="outline">
              <mat-label>Número</mat-label>
              <input matInput placeholder="Número" formControlName="number" required />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>looks_one</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Complemento</mat-label>
              <input matInput placeholder="Complemento" formControlName="complement" />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>note_add</mat-icon>
            </mat-form-field>

          </div>

        </div>

        <div class="line-form">

          <mat-form-field appearance="outline">
            <mat-label>Bairro</mat-label>
            <input matInput placeholder="Bairro" formControlName="neighborhoodName" required />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>map</mat-icon>
          </mat-form-field>

          <div class="short-line-form">

            <mat-form-field appearance="outline">
              <mat-label>Município</mat-label>
              <input matInput placeholder="Digite o seu município" formControlName="cityName" required />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>map</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Estado</mat-label>
              <input matInput placeholder="Digite o seu estado" formControlName="uf" required />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>map</mat-icon>
            </mat-form-field>

          </div>

        </div>

        <div class="line-form">

          <mat-form-field appearance="outline">
            <mat-label>Nome do Responsável</mat-label>
            <input matInput placeholder="Nome do Responsável" formControlName="responsibleNameCtrl" required />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>contacts</mat-icon>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Ponto de Referência</mat-label>
            <input matInput placeholder="Ponto de Referência" formControlName="referencePoint" />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>gps_fixed</mat-icon>
          </mat-form-field>

        </div>

        <mat-divider></mat-divider>

        <h3>Correspondência</h3>

        <div class="line-form">

          <mat-checkbox class="example-margin" [(ngModel)]="isChecked" (change)="checkValue($event)"
            (change)="onSelectionChanged($event)" formControlName="checkboxAdress">
            Usar mesmo endereço para Correspondência ?
          </mat-checkbox>

        </div>

        <div class="line-form">

          <div class="short-line-form">

            <mat-form-field appearance="outline">
              <mat-label>CEP</mat-label>
              <input matInput placeholder="Digite o seu cep" formControlName="subordinateZipCode" required
                #subordinateZipCode (blur)="getSecondCep(subordinateZipCode.value)" mask="00000-000"
                [readonly]="isChecked" [showMaskTyped]="true" />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix [ngStyle]="{'color': isChecked? 'grey' : ''}">place</mat-icon>
            </mat-form-field>

          </div>

        </div>

        <div class="line-form">

          <mat-form-field appearance="outline">
            <mat-label>Logradouro</mat-label>
            <input matInput placeholder="Digite o seu endereço" formControlName="subordinateStreetCtrl" required
              [readonly]="isChecked" />
            <mat-error *ngIf="formControl.invalid">{{
            getErrorMessage()
          }}</mat-error>
            <mat-icon matSuffix [ngStyle]="{ color: isChecked ? 'grey' : '' }">add_road</mat-icon>
          </mat-form-field>

          <div class="short-line-form">

            <mat-form-field appearance="outline">
              <mat-label>Número</mat-label>
              <input matInput placeholder="Digite o seu número" formControlName="subordinateNumberCtrl" required
                [readonly]="isChecked" />
              <mat-error *ngIf="formControl.invalid">{{
              getErrorMessage()
            }}</mat-error>
              <mat-icon matSuffix [ngStyle]="{ color: isChecked ? 'grey' : '' }">looks_two</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Complemento</mat-label>
              <input matInput placeholder="Complemento" formControlName="subordinateComplementCtrl"
                [readonly]="isChecked" />
              <mat-error *ngIf="formControl.invalid">{{
              getErrorMessage()
            }}</mat-error>
              <mat-icon matSuffix [ngStyle]="{ color: isChecked ? 'grey' : '' }">note_add</mat-icon>
            </mat-form-field>

          </div>

        </div>

        <div class="line-form">

          <mat-form-field appearance="outline">
            <mat-label>Bairro</mat-label>
            <input matInput placeholder="Bairro" formControlName="subordinateNeighborhoodCtrl" required
              [readonly]="isChecked" />
            <mat-error *ngIf="formControl.invalid">{{
            getErrorMessage()
          }}</mat-error>
            <mat-icon matSuffix [ngStyle]="{ color: isChecked ? 'grey' : '' }">map</mat-icon>
          </mat-form-field>

          <div class="short-line-form">

            <mat-form-field appearance="outline">
              <mat-label>Município</mat-label>
              <input matInput placeholder="Digite o seu município" formControlName="subordinateCityCtrl" required
                [readonly]="isChecked" />
              <mat-error *ngIf="formControl.invalid">{{
              getErrorMessage()
            }}</mat-error>
              <mat-icon matSuffix [ngStyle]="{ color: isChecked ? 'grey' : '' }">map</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Estado</mat-label>
              <input matInput placeholder="Digite o seu estado" formControlName="subordinateStateCtrl" required
                [readonly]="isChecked" />
              <mat-error *ngIf="formControl.invalid">{{
              getErrorMessage()
            }}</mat-error>
              <mat-icon matSuffix [ngStyle]="{ color: isChecked ? 'grey' : '' }">map</mat-icon>
            </mat-form-field>

          </div>

        </div>

        <div class="line-form">

          <mat-form-field appearance="outline">
            <mat-label>Nome do Responsável</mat-label>
            <input matInput placeholder="Nome do Responsável" formControlName="subordinateResponsibleNameCtrl" required
              [readonly]="isChecked" />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix [ngStyle]="{'color': isChecked? 'grey' : ''}">contacts</mat-icon>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Ponto de Referência</mat-label>
            <input matInput placeholder="Ponto de Referência" formControlName="subordinateReferencePointCtrl"
              [readonly]="isChecked" />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix [ngStyle]="{'color': isChecked? 'grey' : ''}">gps_fixed</mat-icon>
          </mat-form-field>

        </div>
        <mat-divider></mat-divider>
        <h3>Cadastro de contatos</h3>

        <app-simple-data-table [headers]="headersFoneTable" [data]="phoneNumber$" [actions]="actions"
          (addEvent)="onAddPhone($event)" (editEvent)="onEditPhone($event)">
        </app-simple-data-table>

        <div class="group-actions-buttons">

          <button mat-raised-button matStepperPrevious color="accent"
            (click)="saveForm(adressFormGroup,'adressFormGroup')">Voltar</button>

          <button mat-raised-button matStepperNext color="primary"
            (click)="saveForm(adressFormGroup,'adressFormGroup')">Avançar</button>

        </div>

      </form>

    </mat-step>

    <!--Condition Step-->
    <mat-step label="Condição" state="condition" [stepControl]="conditionFormGroup">

      <form [formGroup]="conditionFormGroup">

        <h3>Condições Comerciais</h3>

        <div class="line-form">

          <div class="short-line-2-form">

            <mat-form-field appearance="outline">
              <mat-label>Tabela de Vendas</mat-label>
              <input matInput placeholder="Tabela de Vendas" formControlName="tableSaleCtrl" required />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>table_view</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Crédito Automático</mat-label>
              <mat-select name="type" formControlName="automaticCreditIndicator" required>
                <mat-option value="S"> Sim </mat-option>
                <mat-option value="N"> Não </mat-option>
              </mat-select>
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            </mat-form-field>

          </div>

          <div class="short-line-2-form">

            <mat-form-field appearance="outline">
              <mat-label>Custo de Transação</mat-label>
              <input matInput placeholder="R$ 0,00" formControlName="transactionAmount" required prefix="R$"
                mask=" 0,00 || 00,00 || || 000,00 || 0.000,00" />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>attach_money_cicle</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Custo TED/DOC</mat-label>
              <input matInput placeholder="R$ 0,00" formControlName="tedAmount" required prefix="R$"
                mask=" 0,00 || 00,00 || || 000,00 || 0.000,00" />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>attach_money_cicle</mat-icon>
            </mat-form-field>

          </div>

        </div>

        <div class="line-form">


        </div>

        <div class="line-form">

          <div class="short-line-2-form">

            <mat-form-field appearance="outline">
              <mat-label>Transação Referencial</mat-label>
              <input matInput placeholder="R$ 0,00" formControlName="referentialTransacionAmount" required prefix="R$"
                mask=" 0,00 || 00,00 || || 000,00 || 0.000,00" />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>swap_horizontal_circle</mat-icon>
            </mat-form-field>


            <mat-form-field appearance="outline">
              <mat-label>Taxa de Antecipação</mat-label>
              <input matInput placeholder="R$ 0,00" formControlName="anticipationFee" required prefix="R$"
                mask=" 0,00 || 00,00 || || 000,00 || 0.000,00" />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>attach_money_cicle</mat-icon>
            </mat-form-field>

          </div>

          <div class="short-line-2-form">

            <mat-form-field appearance="outline">
              <mat-label>Ignora Regra de Liberação de AJ Manualmente</mat-label>
              <mat-select name="type" formControlName="ignoreLiberationAJManual" required>
                <mat-option value="true"> Sim </mat-option>
                <mat-option value="false"> Não </mat-option>
              </mat-select>
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Trata AJ Pelo Liquido ou Bruto</mat-label>
              <mat-select name="type" formControlName="ajtype" required>
                <mat-option value="B"> Pelo Bruto </mat-option>
                <mat-option value="L"> Pelo Líquido </mat-option>
              </mat-select>
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            </mat-form-field>

          </div>

        </div>

        <mat-divider></mat-divider>
        <h3>Contas Bancárias</h3>

        <!-- <core-data-table [headers]="headersBankTable" [data]="bankAccount" [actions]="actions"
        (addEvent)="onAddBankAccount($event)" (deleteEvent)="onDeleteBankAccount($event)"
        (editEvent)="onEditBankAccount($event)">
      </core-data-table> -->

        <app-simple-data-table [headers]="headersBankTable" [data]="bankAccount$" [actions]="actions"
          (addEvent)="onAddBankAccount($event)" (editEvent)="onEditBankAccount($event)">
        </app-simple-data-table>

        <mat-divider></mat-divider>
        <br />

        <div class="space-bottom">
          <mat-checkbox class="example-margin" [(ngModel)]="isCheckedBankAdress"
            (change)="checkValueBankAdress($event)">
            Desassociar Domicílio Bancário do Estabelecimento?
          </mat-checkbox>

        </div>

        <div class="line-form">

          <div class="line-3-form">

            <mat-form-field appearance="outline">
              <mat-label>Tipo do beneficiado</mat-label>
              <mat-select name="type" #benefitedType formControlName="beneficiaryType" (blur)="getCpfCnpjMask(benefitedType.value)"required>
                <mat-option></mat-option>
                <mat-option value="PF"> Pessoa Física </mat-option>
                <mat-option value="PJ"> Pessoa Jurídica </mat-option>
              </mat-select>
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Nome do Beneficiado</mat-label>
              <input matInput placeholder="Nome do Beneficiado" formControlName="beneficiaryName" required />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix [ngStyle]="{ color: isCheckedBankAdress ? '' : 'gray' }">account_box</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>CPF/CNPJ</mat-label>
              <input matInput placeholder="{{mask}}" formControlName="beneficiaryDocumentNumber" required mask="{{mask}}" />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix [ngStyle]="{ color: isCheckedBankAdress ? '' : 'gray' }">assignment_ind</mat-icon>
            </mat-form-field>

          </div>

        </div>

        <div class="group-actions-buttons">

          <button mat-raised-button matStepperPrevious color="accent"
            (click)="saveForm(conditionFormGroup,'conditionFormGroup')">Voltar</button>

          <button mat-raised-button matStepperNext color="primary"
            (click)="saveForm(conditionFormGroup,'conditionFormGroup')">Avançar</button>

        </div>

      </form>

    </mat-step>

    <!--complemento Step-->
    <mat-step label="Complemento" state="complement" [stepControl]="complementFormGroup">

      <form [formGroup]="complementFormGroup">

        <h3>Dados Complementares</h3>

        <div class="line-form">

          <mat-form-field appearance="outline">
            <mat-label>Horário de funcionamento</mat-label>
            <mat-select name="type" required formControlName="openingHours">
              <mat-option value="1">Horário Comercial</mat-option>
              <mat-option value="2"> 24 horas </mat-option>
              <mat-option value="3"> Manhã </mat-option>
              <mat-option value="4"> Tarde </mat-option>
              <mat-option value="5"> Noite </mat-option>
              <mat-option value="6"> Outros </mat-option>
            </mat-select>
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>URL Ecommerce</mat-label>
            <input matInput placeholder="Ex: www.site.com.br" formControlName="ecommerceURL" required />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>link</mat-icon>
          </mat-form-field>

        </div>

        <div class="line-form">

          <mat-form-field appearance="outline">
            <mat-label>URL</mat-label>
            <input matInput placeholder="Ex: www.site.com.br" formControlName="estUrl" required />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>link</mat-icon>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input matInput placeholder="Ex: teste@email.com" formControlName="email" required />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>mail</mat-icon>
          </mat-form-field>

        </div>

        <div class="line-form">

          <div class="short-line-2-form">

            <mat-form-field appearance="outline">
              <mat-label>Quantidade POS</mat-label>
              <input matInput placeholder="Quantidade POS" formControlName="posQuantity" required />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>phonelink_ring</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Número Lógico (MID)</mat-label>
              <input matInput placeholder="Número Lógico (MID)" formControlName="logicalNumber" required />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>dialpad</mat-icon>
            </mat-form-field>

          </div>

          <div class="short-line-2-form">

            <mat-form-field appearance="outline">
              <mat-label>Id. Terminal (TID)</mat-label>
              <input matInput placeholder="Id. Terminal (TID)" formControlName="idTerminal" required />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>more_horiz</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Cód. Software Express</mat-label>
              <input matInput placeholder="Cód. Software Express" formControlName="registerCode" required />
              <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
              <mat-icon matSuffix>more_horiz</mat-icon>
            </mat-form-field>

          </div>

        </div>

        <mat-divider></mat-divider>

        <h3>Datas</h3>

        <div class="line-form">

          <div class="line-3-form">

            <mat-form-field appearance="outline">
              <mat-label>Cadastro BF</mat-label>
              <input matInput [matDatepicker]="registrationDate" placeholder="Data Cadastro BF"
                formControlName="registrationDate">
              <mat-datepicker-toggle matSuffix [for]="registrationDate"></mat-datepicker-toggle>
              <mat-datepicker #registrationDate></mat-datepicker>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Envio GP</mat-label>
              <input matInput [matDatepicker]="sendDate" placeholder="Data Envio GP" formControlName="gpSendDate">
              <mat-datepicker-toggle matSuffix [for]="sendDate"></mat-datepicker-toggle>
              <mat-datepicker #sendDate></mat-datepicker>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Credenciamento GP</mat-label>
              <input matInput [matDatepicker]="accreditationDate" placeholder="Data Credencialmento GP"
                formControlName="accreditationDate">
              <mat-datepicker-toggle matSuffix [for]="accreditationDate"></mat-datepicker-toggle>
              <mat-datepicker #accreditationDate></mat-datepicker>
            </mat-form-field>

          </div>

        </div>

        <div class="line-form">

          <div class="line-3-form">

            <mat-form-field appearance="outline">
              <mat-label>Afiliação GP</mat-label>
              <input matInput [matDatepicker]="gpAffiliationDate" placeholder="Data Afiliação GP"
                formControlName="gpAffiliationDate">
              <mat-datepicker-toggle matSuffix [for]="gpAffiliationDate"></mat-datepicker-toggle>
              <mat-datepicker #gpAffiliationDate></mat-datepicker>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Cadastramento SE</mat-label>
              <input matInput [matDatepicker]="seRegistrationDate" placeholder="Data Cadastramento SE"
                formControlName="seRegistrationDate">
              <mat-datepicker-toggle matSuffix [for]="seRegistrationDate"></mat-datepicker-toggle>
              <mat-datepicker #seRegistrationDate></mat-datepicker>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Descredencimento</mat-label>
              <input matInput [matDatepicker]="discreditationDate" placeholder="Data Descredencimento"
                formControlName="discreditationDate">
              <mat-datepicker-toggle matSuffix [for]="discreditationDate"></mat-datepicker-toggle>
              <mat-datepicker #discreditationDate></mat-datepicker>
            </mat-form-field>

          </div>

        </div>

        <div class="group-actions-buttons">

          <button mat-raised-button matStepperPrevious color="accent"
            (click)="saveForm(complementFormGroup,'complementFormGroup')">Voltar</button>

          <button mat-raised-button matStepperNext color="primary"
            (click)="saveForm(complementFormGroup,'complementFormGroup')">Avançar</button>

        </div>

      </form>

    </mat-step>

    <!--socio Step-->
    <mat-step #partnerStep label="Sócio" state="partner" [stepControl]="partnerFormGroup">

      <h3>Cadastro de sócios</h3>

      <app-simple-data-table [headers]="headersPartnerTable" [data]="partnerSource$" [actions]="actions"
        (addEvent)="onAddPartner($event)" (editEvent)="onEditPartner($event)">
      </app-simple-data-table>
      <div class="group-actions-buttons">

        <button mat-raised-button matStepperPrevious color="accent">Voltar</button>

        <button mat-raised-button matStepperNext color="primary" (click)="createCompany()">Criar </button>

      </div>

    </mat-step>

    <!-- Icon overrides. -->
    <ng-template matStepperIcon="identification">
      <mat-icon>people_alt</mat-icon>
    </ng-template>

    <ng-template matStepperIcon="adress">
      <mat-icon>home</mat-icon>
    </ng-template>

    <ng-template matStepperIcon="condition">
      <mat-icon>grading</mat-icon>
    </ng-template>

    <ng-template matStepperIcon="complement">
      <mat-icon>attachment</mat-icon>
    </ng-template>

    <ng-template matStepperIcon="partner">
      <mat-icon>group</mat-icon>
    </ng-template>

  </mat-horizontal-stepper>

</div>