<div id="plans" fxLayout="row wrap">

  <div class="plans-container mat-elevation-z2">
    <h2>Contratos</h2>
    <h3>Dados iniciais</h3>
    <form [formGroup]="agreementFormGroup">
      <div class="line-form">
        <div class="max-short-line-form">

          <mat-form-field appearance="outline">
            <mat-label>Início Validade</mat-label>
            <input matInput [matDatepicker]="dp" formControlName="idPaymentDeadLine">
            <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
            <mat-datepicker #dp></mat-datepicker>
          </mat-form-field>
        </div>
      </div>

      <div class="line-form">
        <mat-form-field appearance="outline">
          <mat-label>Descrição</mat-label>
          <input matInput placeholder="Descrição" formControlName="description" required
            />
          <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          <mat-icon matSuffix>subject</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Parcelado Acelerado</mat-label>
          <mat-select formControlName="isFastInstallments" required>
            <mat-option></mat-option>
            <mat-option value="Vero"> Sim </mat-option>
            <mat-option value="Rede"> Não </mat-option>
          </mat-select>
          <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
        </mat-form-field>
      </div>  

      <mat-divider></mat-divider>
      <br />
      <h3>Planos</h3>

      <div class="line-form" style="gap:55px;">
        <!-- <div class="short-line-form"> -->
          <mat-form-field appearance="outline">
            <mat-label>Adquirente</mat-label>
            <mat-select formControlName="idAcquirer" required *ngIf="acquirer$ | async as acquirer;">
              <mat-option>Selecione um Adquirente</mat-option>
              <mat-option *ngFor="let item of acquirer" [value]="item.id">{{item.description}}</mat-option>
            </mat-select>
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Código de Serviço</mat-label>
            <mat-select formControlName="idServiceEntity" required *ngIf="serviceEntity$ | async as serviceEntity;">
              <mat-option>Selecione um serviço</mat-option>
              <mat-option *ngFor="let item of serviceEntity" [value]="item.id" ([noFlag])="item.noFlag">{{item.description}}</mat-option>
            </mat-select>
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Bandeira Cartão de Crédito</mat-label>
            <mat-select formControlName="idCreditCardFlag" required *ngIf="creditCardFlag$ | async as creditCardFlag;" disable>
              <mat-option>Selecione uma bandeira de cartão</mat-option>
              <mat-option *ngFor="let item of creditCardFlag" [value]="item.id">{{item.flagName}}</mat-option>
            </mat-select>
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Tipo de Remuneração</mat-label>
            <mat-select formControlName="idRemunerationType" required  *ngIf="remunerationType$ | async as remunetationType;">
              <mat-option>Selecione o tipo de remuneração</mat-option>
              <mat-option *ngFor="let item of remunetationType" [value]="item.id">{{item.description}}</mat-option>
            </mat-select>
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Valor da Remuneração</mat-label>
            <input matInput placeholder="Valor da Remuneração" formControlName="value" required
              />
            <mat-error *ngIf="formControl.invalid">{{getErrorMessage()}}</mat-error>
            <mat-icon matSuffix>attach_money</mat-icon>
          </mat-form-field>
        <!-- </div> -->

        <!-- <div class="short-line-form">
        </div> -->

      </div>
      <core-data-table [headers]="headers" [data]="dataSource" [actions]="actions" (addEvent)="onAdd($event)" (deleteEvent)="onDelete($event)"
        (editEvent)="onEdit($event)">
      </core-data-table>
    </form>
  </div>

</div>